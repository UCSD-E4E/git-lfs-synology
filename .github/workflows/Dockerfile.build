FROM ubuntu:24.04
SHELL ["/bin/bash", "-c"]

RUN apt-get update && \
    apt-get install -y libdbus-1-dev \
                        pkg-config \
                        curl

RUN curl https://sh.rustup.rs -sSf | bash -s -- -y

RUN . $HOME/.cargo/env && \
    cargo test --verbose && \
    cargo build --verbose --release